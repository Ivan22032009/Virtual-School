<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–í—ñ—Ä—Ç—É–∞–ª—å–Ω–∞ –ø—Ä–æ–≥—É–ª—è–Ω–∫–∞ –≤—É–ª–∏—Ü–µ—é –ê–Ω–¥—Ä—ñ—è –ö–∏–∑–∏–ª–∞</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            color: #333;
            line-height: 1.6;
            overflow-x: hidden;
        }
        
        header {
            background: linear-gradient(to right, #1e3c72, #2a5298);
            color: white;
            padding: 1.5rem;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        h1 {
            font-size: 2.2rem;
            margin-bottom: 0.5rem;
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }
        
        .layout {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-bottom: 2rem;
        }
        
        @media (max-width: 968px) {
            .layout {
                grid-template-columns: 1fr;
            }
        }
        
        .panel {
            background-color: white;
            border-radius: 10px;
            padding: 1.5rem;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }
        
        .intro {
            margin-bottom: 2rem;
        }
        
        .intro p {
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }
        
        .street-view-container {
            height: 500px;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 1rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }
        
        #street-view {
            width: 100%;
            height: 100%;
        }
        
        .controls {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 2rem;
        }
        
        .btn {
            background: linear-gradient(to right, #3498db, #2980b9);
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 10px rgba(0, 0, 0, 0.15);
        }
        
        .btn:active {
            transform: translateY(-1px);
        }
        
        .btn-start {
            background: linear-gradient(to right, #2ecc71, #27ae60);
        }
        
        .btn-prev {
            background: linear-gradient(to right, #e74c3c, #c0392b);
        }
        
        .locations-list {
            max-height: 400px;
            overflow-y: auto;
        }
        
        .location-item {
            padding: 1rem;
            border-bottom: 1px solid #eee;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .location-item:hover {
            background-color: #f8f9fa;
        }
        
        .location-item.active {
            background-color: #e3f2fd;
            border-left: 4px solid #3498db;
        }
        
        .location-name {
            font-weight: 600;
            font-size: 1.1rem;
            color: #2c3e50;
            margin-bottom: 0.5rem;
        }
        
        .location-description {
            font-size: 0.9rem;
            color: #7f8c8d;
        }
        
        .info-title {
            font-size: 1.8rem;
            color: #2c3e50;
            margin-bottom: 1rem;
            border-bottom: 2px solid #3498db;
            padding-bottom: 0.5rem;
        }
        
        .info-content {
            font-size: 1.1rem;
            line-height: 1.7;
            margin-bottom: 1.5rem;
        }
        
        .audio-controls {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-top: 1.5rem;
            padding-top: 1rem;
            border-top: 1px solid #eee;
        }
        
        .audio-btn {
            background: linear-gradient(to right, #9b59b6, #8e44ad);
            color: white;
            border: none;
            padding: 0.6rem 1.2rem;
            border-radius: 50px;
            cursor: pointer;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.3s ease;
        }
        
        .audio-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 8px rgba(0, 0, 0, 0.1);
        }

        .audio-btn:disabled {
            background: #bdc3c7;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .progress-container {
            flex-grow: 1;
            height: 8px;
            background-color: #ecf0f1;
            border-radius: 4px;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(to right, #3498db, #2980b9);
            width: 0%;
            transition: width 0.1s linear;
        }
        
        .map-container {
            height: 400px;
            border-radius: 8px;
            overflow: hidden;
        }
        
        footer {
            background-color: #2c3e50;
            color: white;
            text-align: center;
            padding: 1.5rem;
            margin-top: 2rem;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100%;
            font-size: 1.2rem;
            color: #7f8c8d;
        }

        .audio-info {
            font-size: 0.8rem;
            color: #27ae60;
            margin-top: 0.5rem;
        }

        .auto-play-notice {
            font-size: 0.8rem;
            color: #e67e22;
            margin-top: 0.5rem;
            font-style: italic;
        }
    </style>
</head>
<body>
    <header>
        <h1>–í—ñ—Ä—Ç—É–∞–ª—å–Ω–∞ –ø—Ä–æ–≥—É–ª—è–Ω–∫–∞ –≤—É–ª–∏—Ü–µ—é –ê–Ω–¥—Ä—ñ—è –ö–∏–∑–∏–ª–∞</h1>
        <div class="subtitle">–í—ñ–¥ –ø–æ—á–∞—Ç–∫—É –≤—É–ª–∏—Ü—ñ –¥–æ –•—É–¥–æ–∂–Ω—å–æ–≥–æ –º—É–∑–µ—é</div>
    </header>
    
    <div class="container">
        <div class="panel intro">
            <p>–õ–∞—Å–∫–∞–≤–æ –ø—Ä–æ—Å–∏–º–æ –Ω–∞ –≤—ñ—Ä—Ç—É–∞–ª—å–Ω—É –ø—Ä–æ–≥—É–ª—è–Ω–∫—É –æ–¥–Ω—ñ—î—é –∑ –Ω–∞–π—Ü—ñ–∫–∞–≤—ñ—à–∏—Ö –≤—É–ª–∏—Ü—å –£–º–∞–Ω—ñ - –≤—É–ª–∏—Ü–µ—é –ê–Ω–¥—Ä—ñ—è –ö–∏–∑–∏–ª–∞, –Ω–∞–∑–≤–∞–Ω–æ—é –Ω–∞ —á–µ—Å—Ç—å –≤–∏–ø—É—Å–∫–Ω–∏–∫–∞ –£–º–∞–Ω—Å—å–∫–æ–≥–æ –ª—ñ—Ü–µ—é ‚Ññ 2 —Ç–∞ –ì–µ—Ä–æ—è –£–∫—Ä–∞—ó–Ω–∏.</p>
            <p>–ö–æ–ª–∏—Å—å –≤–æ–Ω–∞ –Ω–∞–∑–∏–≤–∞–ª–∞—Å—è –î–≤–æ—Ä—Ü–æ–≤–∞, –ø—ñ–∑–Ω—ñ—à–µ - –°—É–≤–æ—Ä–æ–≤—Å—å–∫–∞, –∞ –∑ 1954 —Ä. –æ—Ç—Ä–∏–º–∞–ª–∞ –Ω–∞–∑–≤—É –ö–æ–ª–æ–º–µ–Ω—Å—å–∫–∞. –£ 1853 —Ä. –≤—É–ª–∏—Ü—è –±—É–ª–∞ –ø–æ–∫—Ä–∏—Ç–∞ –±—Ä—É–∫—ñ–≤–∫–æ—é.</p>
            <p>–ü—ñ–¥ —á–∞—Å –ø—Ä–æ–≥—É–ª—è–Ω–∫–∏ –≤–∏ –∑–º–æ–∂–µ—Ç–µ –¥—ñ–∑–Ω–∞—Ç–∏—Å—è –ø—Ä–æ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω—ñ –ø–∞–º'—è—Ç–∫–∏ —Ç–∞ —Ü—ñ–∫–∞–≤—ñ –æ–±'—î–∫—Ç–∏, —â–æ —Ä–æ–∑—Ç–∞—à–æ–≤–∞–Ω—ñ –Ω–∞ —Ü—ñ–π –≤—É–ª–∏—Ü—ñ.</p>
        </div>
        
        <div class="layout">
            <div class="panel">
                <div class="street-view-container">
                    <div id="street-view" class="loading">
                        –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ø–∞–Ω–æ—Ä–∞–º–∏...
                    </div>
                </div>
                
                <div class="controls">
                    <button class="btn btn-start" id="startBtn">–ü–æ—á–∞—Ç–æ–∫ –º–∞—Ä—à—Ä—É—Ç—É</button>
                    <button class="btn btn-prev" id="prevBtn">‚Üê –ù–∞–∑–∞–¥</button>
                    <button class="btn" id="nextBtn">–í–ø–µ—Ä–µ–¥ ‚Üí</button>
                </div>
                
                <div class="panel">
                    <h2 class="info-title" id="infoTitle">–í—É–ª–∏—Ü—è –ê–Ω–¥—Ä—ñ—è –ö–∏–∑–∏–ª–∞</h2>
                    <div class="info-content" id="infoContent">
                        –û–±–µ—Ä—ñ—Ç—å —Ç–æ—á–∫—É –Ω–∞ –∫–∞—Ä—Ç—ñ –∞–±–æ –≤ —Å–ø–∏—Å–∫—É –¥–ª—è –ø–µ—Ä–µ–≥–ª—è–¥—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó
                    </div>
                    <div class="audio-controls">
                        <button class="audio-btn" id="audioBtn" disabled>
                            <span>‚è∏</span> –ü–∞—É–∑–∞
                        </button>
                        <div class="progress-container">
                            <div class="progress-bar" id="progressBar"></div>
                        </div>
                        <span id="timeDisplay">0:00 / 0:00</span>
                    </div>
                    <div class="audio-info" id="audioInfo"></div>
                    <div class="auto-play-notice" id="autoPlayNotice"></div>
                </div>
            </div>
            
            <div class="panel">
                <h2 style="margin-bottom: 1rem;">–¢–æ—á–∫–∏ —ñ–Ω—Ç–µ—Ä–µ—Å—É</h2>
                <div class="locations-list" id="locationsList">
                    <!-- –°–ø–∏—Å–æ–∫ –ª–æ–∫–∞—Ü—ñ–π –±—É–¥–µ –¥–æ–¥–∞–Ω–æ —á–µ—Ä–µ–∑ JavaScript -->
                </div>
            </div>
        </div>
        
        <div class="panel">
            <h2 style="margin-bottom: 1rem; text-align: center;">–ö–∞—Ä—Ç–∞ –ø—Ä–æ–≥—É–ª—è–Ω–∫–∏</h2>
            <div class="map-container" id="map"></div>
        </div>
    </div>
    
    <footer>
        <p>–£–º–∞–Ω—Å—å–∫–∏–π –ª—ñ—Ü–µ–π ‚Ññ 2 &copy; 2023</p>
    </footer>

    <!-- –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è Google Maps API -->
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBfnYkA0HI4PJk-YudTSaw7OnWLWDOkoSY&callback=initMap&libraries=streetview" async defer></script>

    <script>
        // –î–∞–Ω—ñ –ø—Ä–æ –æ–±'—î–∫—Ç–∏ –Ω–∞ –≤—É–ª–∏—Ü—ñ –∑ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–∏–º–∏ –∞—É–¥—ñ–æ
        const locations = [
            {
                id: 0,
                name: "–ü–æ—á–∞—Ç–æ–∫ –≤—É–ª–∏—Ü—ñ –ê–Ω–¥—Ä—ñ—è –ö–∏–∑–∏–ª–∞",
                description: "–ú–∏ –∑–Ω–∞—Ö–æ–¥–∏–º–æ—Å—è –Ω–∞ –ø–æ—á–∞—Ç–∫—É –≤—É–ª–∏—Ü—ñ –ê–Ω–¥—Ä—ñ—è –ö–∏–∑–∏–ª–∞, —è–∫–∞ –∫–æ–ª–∏—Å—å –Ω–∞–∑–∏–≤–∞–ª–∞—Å—è –î–≤–æ—Ä—Ü–æ–≤–∞, –ø—ñ–∑–Ω—ñ—à–µ - –°—É–≤–æ—Ä–æ–≤—Å—å–∫–∞, –∞ –∑ 1954 —Ä. –æ—Ç—Ä–∏–º–∞–ª–∞ –Ω–∞–∑–≤—É –ö–æ–ª–æ–º–µ–Ω—Å—å–∫–∞. –£ 1853 —Ä. –≤—É–ª–∏—Ü—è –±—É–ª–∞ –ø–æ–∫—Ä–∏—Ç–∞ –±—Ä—É–∫—ñ–≤–∫–æ—é. –°–∞–º–µ –∑–≤—ñ–¥—Å–∏ –º–∏ —Ä–æ–∑–ø–æ—á–Ω–µ–º–æ –Ω–∞—à—É –≤—ñ—Ä—Ç—É–∞–ª—å–Ω—É –ø—Ä–æ–≥—É–ª—è–Ω–∫—É.",
                position: { lat: 48.744676, lng: 30.216211 },
                heading: 20,
                pitch: 5,
                audioUrl: "audio/point0.mp3" // –ó–∞–º—ñ–Ω—ñ—Ç—å –Ω–∞ –≤–∞—à —à–ª—è—Ö –¥–æ –∞—É–¥—ñ–æ
            },   
            {
                id: 1,
                name: "–ü—Ä–∏–±—É—Ç–∫–æ–≤–∏–π –±—É–¥–∏–Ω–æ–∫ –®–º—É–ª—è –õ–∞–Ω–¥–∞",
                description: "–ü–µ—Ä–µ–¥ –≤–∞–º–∏ -- —Ä–æ–∑–∫—ñ—à–Ω–∏–π –ø—Ä–∏–±—É—Ç–∫–æ–≤–∏–π –±—É–¥–∏–Ω–æ–∫, —Å–ø–æ—Ä—É–¥–∂–µ–Ω–∏–π —É–ø—Ä–æ–¥–æ–≤–∂ 1898-1900 —Ä—Ä. –Ω–∞ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –®–º—É–ª—è –õ–∞–Ω–¥–∞. –ó 1913 —Ä–æ–∫—É –±—É–¥–∏–Ω–æ–∫ –Ω–∞–ª–µ–∂–∞–≤ ¬´1-–º—É –£–º–∞–Ω—Å—å–∫–æ–º—É –ü–æ–∑–∏–∫–æ-–∑–±–µ—Ä—ñ–≥–∞–ª—å–Ω–æ–º—É —Ç–æ–≤–∞—Ä–∏—Å—Ç–≤—É¬ª, –≥–æ–ª–æ–≤–æ—é —è–∫–æ–≥–æ –±—É–≤ –ü–µ—Ç—Ä–æ –ö—É—Ä—ñ–Ω–Ω–∏–π. –ë—É–¥—ñ–≤–ª—è –º–∞–ª–∞ –≤–æ–¥–æ–ø—Ä–æ–≤—ñ–¥ —Ç–∞ –∫–∞–Ω–∞–ª—ñ–∑–∞—Ü—ñ—é. –°–ø–æ—Ä—É–¥–∞ –¥–≤—ñ—á—ñ –∑–∞–∑–Ω–∞–≤–∞–ª–∞ –∑–Ω–∞—á–Ω–∏—Ö –ø–æ—à–∫–æ–¥–∂–µ–Ω—å —Ç–∞ —Ä—É–π–Ω—É–≤–∞–Ω—å, –Ω–∏–Ω—ñ —Ü–µ –∂–∏—Ç–ª–æ–≤–∏–π –±—É–¥–∏–Ω–æ–∫ –Ω–µ–æ—Ä–µ–Ω–µ—Å–∞–Ω—Å–Ω–æ–≥–æ —Å—Ç–∏–ª—é –∑ –µ–ª–µ–º–µ–Ω—Ç–∞–º–∏ —Ä–∞–Ω–Ω—å–æ–≥–æ –º–æ–¥–µ—Ä–Ω—É.",
                position: { lat: 48.745903, lng: 30.216978 },
                heading: 120,
                pitch: 5,
                audioUrl: "audio/point1.mp3" // –ó–∞–º—ñ–Ω—ñ—Ç—å –Ω–∞ –≤–∞—à —à–ª—è—Ö –¥–æ –∞—É–¥—ñ–æ
            },  
            {
                id: 2,
                name: "–£–º–∞–Ω—Å—å–∫–∏–π –ª—ñ—Ü–µ–π ‚Ññ2",
                description: "–ù–∞ –≤—É–ª–∏—Ü—ñ —Ä–æ–∑—Ç–∞—à–æ–≤–∞–Ω–∞ –æ–¥–Ω–∞ –∑ –Ω–∞–π—Å—Ç–∞—Ä—ñ—à–∏—Ö –±—É–¥—ñ–≤–µ–ª—å –º—ñ—Å—Ç–∞ -- –£–º–∞–Ω—Å—å–∫–∏–π –ª—ñ—Ü–µ–π ‚Ññ2, —è–∫–∏–π –±—É–≤ —Å–ø–æ—Ä—É–¥–∂–µ–Ω–∏–π 125 —Ä–æ–∫—ñ–≤ —Ç–æ–º—É. –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è —ñ—Å—Ç–æ—Ä–∏—á–Ω–æ—ó –ø–∞–º'—è—Ç–∫–∏ –¥–æ—Å—ñ –Ω–µ–∑–º—ñ–Ω–Ω–µ, –æ—Å–∫—ñ–ª—å–∫–∏ –ø—Ä–æ–¥–æ–≤–∂—É—î –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –∑–≤–∏—á–∞—ó –π —Ç—Ä–∞–¥–∏—Ü—ñ—ó –º–∏–Ω—É–ª–∏—Ö –ø–æ–∫–æ–ª—ñ–Ω—å, –∞–¥–∞–ø—Ç—É—é—á–∏—Å—å –¥–æ –≤–∏–∫–ª–∏–∫—ñ–≤ —ñ –ø–æ—Ç—Ä–µ–± —Å—å–æ–≥–æ–¥–µ–Ω–Ω—è. –¶–µ –ø–∞–º'—è—Ç–∫–∞, —â–æ —Ä–æ–∑–ø–æ–≤—ñ–¥–∞—î –æ—Å–æ–±–ª–∏–≤—É —ñ—Å—Ç–æ—Ä—ñ—é -- —ñ—Å—Ç–æ—Ä—ñ—é –ø—Ä–æ –∑–¥–æ–±—É—Ç—Ç—è –∂—ñ–Ω–∫–∞–º–∏ –Ω–æ–≤–∏—Ö –ø—Ä–∞–≤ —ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç–µ–π.",
                position: { lat: 48.746596, lng: 30.217408 },
                heading: 120,
                pitch: 5,
                audioUrl: "audio/point2.mp3" // –ó–∞–º—ñ–Ω—ñ—Ç—å –Ω–∞ –≤–∞—à —à–ª—è—Ö –¥–æ –∞—É–¥—ñ–æ
            },  
            {
                id: 3,
                name: "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∏–π —Å—Ç–∞–¥—ñ–æ–Ω",
                description: "–î–∞–ª—ñ –ø–æ –≤—É–ª–∏—Ü—ñ —Ä–æ–∑—Ç–∞—à–æ–≤–∞–Ω–∏–π –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∏–π —Å—Ç–∞–¥—ñ–æ–Ω. –¶–µ –±—É–≤ –ø–µ—Ä—à–∏–π ¬´–ß–µ—Ä–≤–æ–Ω–∏–π —Å—Ç–∞–¥—ñ–æ–Ω¬ª –Ω–∞ –ß–µ—Ä–∫–∞—â–∏–Ω—ñ, —è–∫–∏–π –ø—ñ—Å–ª—è –∫—ñ–ª—å–∫–æ—Ö —Ä–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü—ñ–π —Å—å–æ–≥–æ–¥–Ω—ñ —Å—Ç–∞–≤ –±–∞–≥–∞—Ç–æ—Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–º —Å–ø–æ—Ä—Ç–∏–≤–Ω–∏–º –∫–æ–º–ø–ª–µ–∫—Å–æ–º.",
                position: { lat: 48.747201, lng: 30.217760 },
                heading: -90,
                pitch: 5,
                audioUrl: "audio/point3.mp3" // –ó–∞–º—ñ–Ω—ñ—Ç—å –Ω–∞ –≤–∞—à —à–ª—è—Ö –¥–æ –∞—É–¥—ñ–æ
            },             
         {
                id: 4,
                name: "–ë—É–¥–∏–Ω–æ–∫ –¥–µ–∫–∞–±—Ä–∏—Å—Ç–∞ –°–µ—Ä–≥—ñ—è –í–æ–ª–∫–æ–Ω—Å—å–∫–æ–≥–æ",
                description: "–£ —Ü—å–æ–º—É –±—É–¥–∏–Ω–∫—É –≤ 1825-1826 —Ä—Ä. (–¥–æ –∞—Ä–µ—à—Ç—É) –∂–∏–≤ –¥–µ–∫–∞–±—Ä–∏—Å—Ç —ñ –∫–Ω—è–∑—å –°–µ—Ä–≥—ñ–π –ì—Ä–∏–≥–æ—Ä–æ–≤–∏—á –í–æ–ª–∫–æ–Ω—Å—å–∫–∏–π. –ó–∞ —á—É—Ç–∫–∞–º–∏, —Å–∞–º–µ —Ç—É—Ç –Ω–∞ —Ç–æ–π —á–∞—Å –±–∞–∑—É–≤–∞–ª–∞—Å—å –º–∞—Å–æ–Ω—Å—å–∫–∞ –ª–æ–∂–∞ —á–∏ —Ç–æ —ó—ó –≤—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è, –∞–¥–∂–µ –°. –í–æ–ª–∫–æ–Ω—Å—å–∫–∏–π –±—É–≤ –∞–∫—Ç–∏–≤–Ω–∏–º —ó—ó —á–ª–µ–Ω–æ–º. –ù–∞ —Ç–∞—î–º–Ω—ñ –Ω–∞—Ä–∞–¥–∏ –¥–æ –≥—Ä–∞—Ñ–∞ –ø—Ä–∏—ó–∂–¥–∂–∞–ª–∏ –í. –î–∞–≤–∏–¥–æ–≤ —ñ –ü.–ü–µ—Å—Ç–µ–ª—å.–£ 1825 —Ä–æ—Ü—ñ —Ä–∞–∑–æ–º —ñ–∑ —á–æ–ª–æ–≤—ñ–∫–æ–º —Ç—É—Ç –ø—Ä–æ–∂–∏–≤–∞–ª–∞ –¥—Ä—É–∂–∏–Ω–∞ ‚Äì –ú–∞—Ä—ñ—è –ú–∏–∫–æ–ª–∞—ó–≤–Ω–∞ –í–æ–ª–∫–æ–Ω—Å—å–∫–∞ (—ñ–∑ —Ä–æ–¥—É –†–∞—î–≤—Å—å–∫–∏—Ö).–°–∞–º –±—É–¥–∏–Ω–æ–∫, —Å–ø–æ—Ä—É–¥–∂–µ–Ω–∏–π —É 1825 —Ä–æ—Ü—ñ, –±—É–≤ –¥–µ—Ä–µ–≤‚Äô—è–Ω–∏–º. –ó —Ñ–∞—Å–∞–¥—É –ø—Ä–∏–∫—Ä–∞—à–µ–Ω–∏–π –∫–æ–ª–æ–Ω–∞–º–∏, –º–µ–∑–æ–Ω—ñ–Ω –º–∞–≤ –±–∞–ª–∫–æ–Ω. –ü—ñ—Å–ª—è –∞—Ä–µ—à—Ç—É –°. –í–æ–ª–∫–æ–Ω—Å—å–∫–æ–≥–æ, —É —Å—ñ—á–Ω—ñ 1826 —Ä–æ–∫—É, –ø—Ä–∏–º—ñ—â–µ–Ω–Ω—è –ø–µ—Ä–µ–π—à–ª–æ —É –≤–ª–∞—Å–Ω—ñ—Å—Ç—å –≥—Ä–∞—Ñ–∞ –û.–ü–æ—Ç–æ—Ü—å–∫–æ–≥–æ —Ç–∞ –±—É–ª–æ –∑–Ω–∞—á–Ω–æ –ø–µ—Ä–µ–±—É–¥–æ–≤–∞–Ω–æ.–£ 1852 —Ä–æ—Ü—ñ —Ç—É—Ç –ø—Ä–æ–∂–∏–≤–∞–ª–∏ –¥–∏–≤—ñ–∑—ñ–π–Ω—ñ –≥–µ–Ω–µ—Ä–∞–ª–∏. –ê –≤ 1882 —Ä–æ—Ü—ñ —É –±—É–¥—ñ–≤–ª—ñ —Ä–æ–∑–º—ñ—â—É–≤–∞–ª–æ—Å—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø–æ–≤—ñ—Ç–æ–≤–æ–≥–æ –≤—ñ–π—Å—å–∫–æ–≤–æ–≥–æ –∫–µ—Ä—ñ–≤–Ω–∏—Ü—Ç–≤–∞. –ó 1909 —Ä–æ–∫—É —Ç—É—Ç –±—É–ª–∞ –∫–≤–∞—Ä—Ç–∏—Ä–∞ –¥–ª—è –∫–æ–º–∞–Ω–¥–∏—Ä–∞ –ø–æ–ª–∫—É. –ê –≤ —Ä–∞–¥—è–Ω—Å—å–∫—ñ —á–∞—Å–∏ —Ç—É—Ç –º–µ—à–∫–∞–ª–∏ –ø—Ä–∏–≤–∞—Ç–Ω—ñ –æ—Å–æ–±–∏.–ó–∞—Ä–∞–∑ –Ω–µ–º–∞—î –Ω—ñ –∫–æ–ª–æ–Ω, –Ω—ñ –±–∞–ª–∫–æ–Ω–∞. –ú–µ–∑–æ–Ω—ñ–Ω –¥–æ –ø–æ—á–∞—Ç–∫—É 60-—Ö —Ä–æ–∫—ñ–≤ —â–µ –∑–±–µ—Ä—ñ–≥—Å—è, –∞–ª–µ —Å–ø–æ—Ä—É–¥–∞ –±—É–ª–∞ —Ç–∞–∫ –∑–∞–Ω–µ–¥–±–∞–Ω–∞, —â–æ –π–æ–≥–æ –¥–æ–≤–µ–ª–æ—Å—è —Ä–æ–∑—ñ–±—Ä–∞—Ç–∏. –ü—ñ—Å–ª—è —Ä–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –±—É–¥—ñ–≤–ª—é –≤—ñ–¥–¥–∞–ª–∏ –¥–∏—Ç—è—á–æ-—é–Ω–∞—Ü—å–∫—ñ–π —Å–ø–æ—Ä—Ç–∏–≤–Ω—ñ–π —à–∫–æ–ª—ñ.–ú–∞–π–∂–µ –¥–≤—ñ—Å—Ç—ñ —Ä–æ–∫—ñ–≤ –ø—Ä–æ–π—à–ª–æ –∑ —Ç–æ–≥–æ —á–∞—Å—É, —è–∫ –∂–∏–ª–∏ –≤ –£–º–∞–Ω—ñ –í–æ–ª–∫–æ–Ω—Å—å–∫—ñ. –ü—Ä–æ—Ç–µ —ó—Ö –±—É–¥–∏–Ω–æ—á–æ–∫ –∑–±–µ—Ä—ñ–≥—Å—è, —Ö–æ—á —ñ –≤ —Ä–µ–∫–æ–Ω—Å—Ç—Ä—É–π–æ–≤–∞–Ω–æ–º—É –≤–∏–≥–ª—è–¥—ñ. –í—ñ–Ω –ø–∞–º‚Äô—è—Ç–∞—î —ñ –∫–Ω—è–∑—è –∑ –∫–Ω—è–≥–∏–Ω–µ—é, —ñ –ø–æ–ª–∫–æ–≤–Ω–∏–∫–∞ –ü–∞–≤–ª–∞ –ü–µ—Å—Ç–µ–ª—è, –∞ –º–∏ –¥–µ—â–æ –ø–∞–º‚Äô—è—Ç–∞—î–º–æ, —è–∫ –≤—ñ–Ω –±—É–¥—É–≤–∞–≤—Å—è —ñ –≤–∏–≥–ª—è–¥–∞–≤ 200 —Ä–æ–∫—ñ–≤ —Ç–æ–º—É –∑–∞–≤–¥—è–∫–∏ –∫–∞—Ä—Ç–∏–Ω—ñ –ì–µ—Ä–∞—Å–∏–º–∞ –ü–æ–¥—Ö–∞–ª—é–∑—ñ–Ω–∞ ¬´–ë—É–¥–∏–Ω–æ–∫ –í–æ–ª–∫–æ–Ω—Å—å–∫–∏—Ö —É –º—ñ—Å—Ç—ñ –£–º–∞–Ω—ñ¬ª, —è–∫–∞ –º–∞—î –Ω–µ –ª–∏—à–µ —É–Ω—ñ–∫–∞–ª—å–Ω–µ –∂–∏–≤–æ–ø–∏—Å–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è, –∞–ª–µ –π —Ü—ñ–Ω–Ω–µ —ñ—Å—Ç–æ—Ä–∏—á–Ω–µ, –∞–¥–∂–µ –∑–æ–±—Ä–∞–∂–µ–Ω–∞ —Å—Ç–∞—Ä–æ–≤–∏–Ω–Ω–∞ —Å–ø–æ—Ä—É–¥–∞ –≤ –ø–µ—Ä–≤–∏–Ω–Ω–æ–º—É —Å–≤–æ—î–º—É –≤–∏–≥–ª—è–¥—ñ —è–∫–∞ –¥–æ–Ω–∏–Ω—ñ –Ω–µ –∑–±–µ—Ä–µ–≥–ª–∞—Å—è. –ö–∞—Ä—Ç–∏–Ω—É –ø–æ–¥–∞—Ä—É–≤–∞–≤ –º—É–∑–µ—é —Å–∞–º –∞–≤—Ç–æ—Ä —É 1928 —Ä–æ—Ü—ñ.",
                position: { lat: 48.747568, lng: 30.217978 },
                heading: -80,
                pitch: 5,
                audioUrl: "audio/point3.mp3" // –ó–∞–º—ñ–Ω—ñ—Ç—å –Ω–∞ –≤–∞—à —à–ª—è—Ö –¥–æ –∞—É–¥—ñ–æ
            },   
            {
                id: 5,
                name: "–ü–æ–∂–µ–∂–Ω–∞ —á–∞—Å—Ç–∏–Ω–∞",
                description: "–ü–æ—Ä—è–¥ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –ø–æ–∂–µ–∂–Ω–∞ —á–∞—Å—Ç–∏–Ω–∞, –ø–µ—Ä—à—ñ –≤—ñ–¥–æ–º–æ—Å—Ç—ñ –ø—Ä–æ –Ω–µ—ó –≤ –£–º–∞–Ω—ñ –∑–Ω–∞–π–¥–µ–Ω–æ –≤ –æ–ø–∏—Å—ñ 1882 —Ä., –∞ –≤ 1954 —Ä. –ø–æ–∂–µ–∂–Ω–∏–∫–∏ –æ—Ç—Ä–∏–º–∞–ª–∏ —Ü–µ –ø—Ä–∏–º—ñ—â–µ–Ω–Ω—è, —É —è–∫–æ–º—É –ø–µ—Ä–µ–±—É–≤–∞—é—Ç—å —ñ –¥–æ—Ç–µ–ø–µ—Ä.",
                position: { lat: 48.748440, lng: 30.218516 },
                heading: -85,
                pitch: 5,
                audioUrl: "audio/point4.mp3" // –ó–∞–º—ñ–Ω—ñ—Ç—å –Ω–∞ –≤–∞—à —à–ª—è—Ö –¥–æ –∞—É–¥—ñ–æ
            },
            {
                id: 6,
                name: "–•—É–¥–æ–∂–Ω—ñ–π –º—É–∑–µ–π",
                description: "–á—ó –æ–∫—Ä–∞—Å–æ—é —î –•—É–¥–æ–∂–Ω—ñ–π –º—É–∑–µ–π. –†–æ–∑—Ç–∞—à–æ–≤–∞–Ω–∏–π —É —Å–∞–º–æ–º—É —Ü–µ–Ω—Ç—Ä—ñ –º—ñ—Å—Ç–∞, –≤—ñ–Ω —î —Å–≤—ñ–¥—á–µ–Ω–Ω—è–º –∫—É–ª—å—Ç—É—Ä–Ω–æ–≥–æ —Ä–æ–∑–≤–∏—Ç–∫—É –º—ñ—Å—Ç–∞ —Ç–∞ –π–æ–≥–æ –±–∞–≥–∞—Ç–æ—ó —ñ—Å—Ç–æ—Ä—ñ—ó. –£–º–∞–Ω—Å—å–∫–∏–π –∫–æ—Å—Ç–µ–ª –£—Å–ø—ñ–Ω–Ω—è –ü—Ä–µ—Å–≤—è—Ç–æ—ó –î—ñ–≤–∏ –ú–∞—Ä—ñ—ó –±—É–≤ –∑–≤–µ–¥–µ–Ω–∏–π –Ω–∞ —Å—Ç–∞—Ä–æ–º—É –∫–ª–∞–¥–æ–≤–∏—â—ñ, —â–æ –¥–æ–¥–∞—î –æ—Å–æ–±–ª–∏–≤–æ–≥–æ –∑–Ω–∞—á–µ–Ω–Ω—è —Ü—å–æ–º—É –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω–æ–º—É –∫–æ–º–ø–ª–µ–∫—Å—É. –ó 1995 —Ä–æ–∫—É –±—É–¥—ñ–≤–ª—è –∫–æ—Å—Ç–µ–ª—É –ø–æ—î–¥–Ω—É—î –¥–≤—ñ —Ñ—É–Ω–∫—Ü—ñ—ó: –º—É–∑–µ–π–Ω–æ–≥–æ –≤–∏—Å—Ç–∞–≤–∫–æ–≤–æ–≥–æ –∑–∞–ª—É —Ç–∞ –∫—É–ª—å—Ç—É—Ä–Ω–æ–≥–æ –ø—Ä–æ—Å—Ç–æ—Ä—É.",
                position: { lat: 48.749386, lng: 30.219128 },
                heading: -75,
                pitch: 5,
                audioUrl: "audio/point5.mp3" // –ó–∞–º—ñ–Ω—ñ—Ç—å –Ω–∞ –≤–∞—à —à–ª—è—Ö –¥–æ –∞—É–¥—ñ–æ
            }
        ];

        // –ì–ª–æ–±–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–Ω—ñ
        let map;
        let panorama;
        let currentLocationIndex = 0;
        let isAudioPlaying = false;
        let markers = [];
        let currentAudio = null;
        let autoPlayEnabled = true;

        // –ï–ª–µ–º–µ–Ω—Ç–∏ DOM
        const streetViewElement = document.getElementById('street-view');
        const infoTitle = document.getElementById('infoTitle');
        const infoContent = document.getElementById('infoContent');
        const audioBtn = document.getElementById('audioBtn');
        const progressBar = document.getElementById('progressBar');
        const timeDisplay = document.getElementById('timeDisplay');
        const startBtn = document.getElementById('startBtn');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const locationsList = document.getElementById('locationsList');
        const mapElement = document.getElementById('map');
        const audioInfo = document.getElementById('audioInfo');
        const autoPlayNotice = document.getElementById('autoPlayNotice');

        // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –∫–∞—Ä—Ç–∏
        function initMap() {
            // –¶–µ–Ω—Ç—Ä –∫–∞—Ä—Ç–∏ - –£–º–∞–Ω—å
            const uman = { lat: 48.7507, lng: 30.2230 };
            
            // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –æ—Å–Ω–æ–≤–Ω–æ—ó –∫–∞—Ä—Ç–∏
            map = new google.maps.Map(mapElement, {
                center: uman,
                zoom: 16,
                styles: [
                    {
                        featureType: 'poi',
                        elementType: 'labels',
                        stylers: [{ visibility: 'on' }]
                    }
                ]
            });
            
            // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è Street View
            panorama = new google.maps.StreetViewPanorama(
                streetViewElement,
                {
                    position: locations[0].position,
                    pov: { heading: locations[0].heading, pitch: locations[0].pitch },
                    zoom: 1,
                    addressControl: false,
                    showRoadLabels: false,
                    zoomControl: true,
                    enableCloseButton: false
                }
            );
            
            // –î–æ–¥–∞–≤–∞–Ω–Ω—è –º–∞—Ä–∫–µ—Ä—ñ–≤ –Ω–∞ –∫–∞—Ä—Ç—É
            createMapMarkers();
            
            // –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å–ø–∏—Å–∫—É –ª–æ–∫–∞—Ü—ñ–π
            createLocationsList();
            
            // –ü–æ–∫–∞–∑ –ø–µ—Ä—à–æ—ó –ª–æ–∫–∞—Ü—ñ—ó
            showLocationInfo(0);
            
            // –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –æ–±—Ä–æ–±–Ω–∏–∫—ñ–≤ –ø–æ–¥—ñ–π
            setupEventListeners();
        }

        // –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –º–∞—Ä–∫–µ—Ä—ñ–≤ –Ω–∞ –∫–∞—Ä—Ç—ñ
        function createMapMarkers() {
            locations.forEach((location, index) => {
                const marker = new google.maps.Marker({
                    position: location.position,
                    map: map,
                    title: location.name,
                    icon: {
                        url: 'https://maps.google.com/mapfiles/ms/icons/red-dot.png',
                        scaledSize: new google.maps.Size(30, 30)
                    }
                });
                
                marker.addListener('click', () => {
                    currentLocationIndex = index;
                    showLocationInfo(index);
                });
                
                markers.push(marker);
            });
        }

        // –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å–ø–∏—Å–∫—É –ª–æ–∫–∞—Ü—ñ–π
        function createLocationsList() {
            locations.forEach((location, index) => {
                const item = document.createElement('div');
                item.className = 'location-item';
                const hasAudio = location.audioUrl ? ' üéµ' : '';
                item.innerHTML = `
                    <div class="location-name">${location.name}${hasAudio}</div>
                    <div class="location-description">${location.description.substring(0, 100)}...</div>
                `;
                
                item.addEventListener('click', () => {
                    currentLocationIndex = index;
                    showLocationInfo(index);
                });
                
                locationsList.appendChild(item);
            });
        }

        // –ü–æ–∫–∞–∑–∞—Ç–∏ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –ª–æ–∫–∞—Ü—ñ—é
        function showLocationInfo(index) {
            const location = locations[index];
            
            // –ó—É–ø–∏–Ω–∏—Ç–∏ –ø–æ—Ç–æ—á–Ω–µ –∞—É–¥—ñ–æ
            if (currentAudio) {
                currentAudio.pause();
                currentAudio = null;
            }
            
            // –û–Ω–æ–≤–ª–µ–Ω–Ω—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ–π–Ω–æ—ó –ø–∞–Ω–µ–ª—ñ
            infoTitle.textContent = location.name;
            infoContent.textContent = location.description;
            
            // –û–Ω–æ–≤–ª–µ–Ω–Ω—è Street View
            panorama.setPosition(location.position);
            panorama.setPov({
                heading: location.heading,
                pitch: location.pitch
            });
            
            // –¶–µ–Ω—Ç—Ä—É–≤–∞–Ω–Ω—è –∫–∞—Ä—Ç–∏ –Ω–∞ –ª–æ–∫–∞—Ü—ñ—ó
            map.setCenter(location.position);
            
            // –û–Ω–æ–≤–ª–µ–Ω–Ω—è –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç–∞ –≤ —Å–ø–∏—Å–∫—É
            updateActiveLocation(index);
            
            // –û–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–∞–Ω—É –∫–Ω–æ–ø–æ–∫ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó
            updateNavigationButtons();
            
            // –û–Ω–æ–≤–ª–µ–Ω–Ω—è –∞—É–¥—ñ–æ –∫–æ–Ω—Ç—Ä–æ–ª—ñ–≤
            updateAudioControls(location);
            
            // –°–∫–∏–¥–∞–Ω–Ω—è –∞—É–¥—ñ–æ
            resetAudio();

            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤—ñ–¥—Ç–≤–æ—Ä–µ–Ω–Ω—è –∞—É–¥—ñ–æ
            if (autoPlayEnabled && location.audioUrl) {
                setTimeout(() => {
                    playAudio();
                }, 1000); // –ù–µ–≤–µ–ª–∏–∫–∞ –∑–∞—Ç—Ä–∏–º–∫–∞ –¥–ª—è –∫—Ä–∞—â–æ–≥–æ UX
            }
        }

        // –û–Ω–æ–≤–∏—Ç–∏ –∞–∫—Ç–∏–≤–Ω–∏–π –µ–ª–µ–º–µ–Ω—Ç –≤ —Å–ø–∏—Å–∫—É
        function updateActiveLocation(index) {
            const items = document.querySelectorAll('.location-item');
            items.forEach((item, i) => {
                if (i === index) {
                    item.classList.add('active');
                } else {
                    item.classList.remove('active');
                }
            });
        }

        // –û–Ω–æ–≤–∏—Ç–∏ —Å—Ç–∞–Ω –∫–Ω–æ–ø–æ–∫ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó
        function updateNavigationButtons() {
            prevBtn.disabled = currentLocationIndex === 0;
            nextBtn.disabled = currentLocationIndex === locations.length - 1;
        }

        // –û–Ω–æ–≤–∏—Ç–∏ –∞—É–¥—ñ–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏
        function updateAudioControls(location) {
            if (location.audioUrl) {
                audioBtn.disabled = false;
                audioInfo.textContent = '–ê—É–¥—ñ–æ –¥–æ—Å—Ç—É–ø–Ω–µ –¥–ª—è —Ü—ñ—î—ó —Ç–æ—á–∫–∏';
                audioInfo.style.color = '#27ae60';
                
                // –ü–æ–ø–µ—Ä–µ–¥–Ω—å–æ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î–º–æ –∞—É–¥—ñ–æ
                if (!location.audio) {
                    location.audio = new Audio(location.audioUrl);
                    location.audio.preload = 'auto';
                }

                // –û–Ω–æ–≤–ª—é—î–º–æ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –∞–≤—Ç–æ–≤—ñ–¥—Ç–≤–æ—Ä–µ–Ω–Ω—è
                if (autoPlayEnabled) {
                    autoPlayNotice.textContent = '–ê—É–¥—ñ–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤—ñ–¥—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥—ñ –Ω–∞ —Ç–æ—á–∫—É';
                    autoPlayNotice.style.color = '#e67e22';
                } else {
                    autoPlayNotice.textContent = '–ê–≤—Ç–æ–≤—ñ–¥—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤–∏–º–∫–Ω–µ–Ω–æ - –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å –∫–Ω–æ–ø–∫—É –¥–ª—è –ø—Ä–æ—Å–ª—É—Ö–æ–≤—É–≤–∞–Ω–Ω—è';
                    autoPlayNotice.style.color = '#e74c3c';
                }
            } else {
                audioBtn.disabled = true;
                audioInfo.textContent = '–ê—É–¥—ñ–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–µ –¥–ª—è —Ü—ñ—î—ó —Ç–æ—á–∫–∏';
                audioInfo.style.color = '#e74c3c';
                autoPlayNotice.textContent = '';
            }
        }

        // –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –æ–±—Ä–æ–±–Ω–∏–∫—ñ–≤ –ø–æ–¥—ñ–π
        function setupEventListeners() {
            // –ö–Ω–æ–ø–∫–∏ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó
            startBtn.addEventListener('click', () => {
                currentLocationIndex = 0;
                showLocationInfo(currentLocationIndex);
            });
            
            prevBtn.addEventListener('click', () => {
                if (currentLocationIndex > 0) {
                    currentLocationIndex--;
                    showLocationInfo(currentLocationIndex);
                }
            });
            
            nextBtn.addEventListener('click', () => {
                if (currentLocationIndex < locations.length - 1) {
                    currentLocationIndex++;
                    showLocationInfo(currentLocationIndex);
                }
            });
            
            // –ö–Ω–æ–ø–∫–∞ –∞—É–¥—ñ–æ
            audioBtn.addEventListener('click', toggleAudio);
            
            // –ü–æ–¥–≤—ñ–π–Ω–∏–π –∫–ª—ñ–∫ –ø–æ –∫–Ω–æ–ø—Ü—ñ –∞—É–¥—ñ–æ –¥–ª—è –ø–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è –∞–≤—Ç–æ–≤—ñ–¥—Ç–≤–æ—Ä–µ–Ω–Ω—è
            audioBtn.addEventListener('dblclick', () => {
                autoPlayEnabled = !autoPlayEnabled;
                updateAudioControls(locations[currentLocationIndex]);
            });
            
            // –û–±—Ä–æ–±–∫–∞ –ø–æ–¥—ñ–π –∫–ª–∞–≤—ñ–∞—Ç—É—Ä–∏
            document.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowLeft') {
                    prevBtn.click();
                } else if (e.key === 'ArrowRight') {
                    nextBtn.click();
                } else if (e.key === ' ') {
                    e.preventDefault();
                    toggleAudio();
                }
            });
        }

        // –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∞—É–¥—ñ–æ
        function toggleAudio() {
            if (isAudioPlaying) {
                pauseAudio();
            } else {
                playAudio();
            }
        }

        function playAudio() {
            const currentLocation = locations[currentLocationIndex];
            if (!currentLocation.audio) return;
            
            currentAudio = currentLocation.audio;
            
            // –°–∫–∏–¥–∞—î–º–æ –∞—É–¥—ñ–æ –Ω–∞ –ø–æ—á–∞—Ç–æ–∫, —è–∫—â–æ –≤–æ–Ω–æ –≤–∂–µ –∑–∞–∫—ñ–Ω—á–∏–ª–æ—Å—å
            if (currentAudio.ended) {
                currentAudio.currentTime = 0;
            }
            
            currentAudio.play();
            isAudioPlaying = true;
            audioBtn.innerHTML = '<span>‚è∏</span> –ü–∞—É–∑–∞';
            
            // –û–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–æ–≥—Ä–µ—Å—É
            currentAudio.addEventListener('timeupdate', updateProgress);
            currentAudio.addEventListener('ended', resetAudio);
        }

        function pauseAudio() {
            if (currentAudio) {
                currentAudio.pause();
                isAudioPlaying = false;
                audioBtn.innerHTML = '<span>üîä</span> –í—ñ–¥—Ç–≤–æ—Ä–∏—Ç–∏';
            }
        }

        function resetAudio() {
            isAudioPlaying = false;
            audioBtn.innerHTML = '<span>üîä</span> –í—ñ–¥—Ç–≤–æ—Ä–∏—Ç–∏';
            progressBar.style.width = '0%';
            timeDisplay.textContent = '0:00 / 0:00';
            
            if (currentAudio) {
                currentAudio.currentTime = 0;
                currentAudio.removeEventListener('timeupdate', updateProgress);
                currentAudio.removeEventListener('ended', resetAudio);
            }
        }

        function updateProgress() {
            if (!currentAudio) return;
            
            const progress = (currentAudio.currentTime / currentAudio.duration) * 100;
            progressBar.style.width = `${progress}%`;
            
            const currentTime = formatTime(currentAudio.currentTime);
            const totalTime = formatTime(currentAudio.duration);
            timeDisplay.textContent = `${currentTime} / ${totalTime}`;
        }

        function formatTime(seconds) {
            if (isNaN(seconds)) return '0:00';
            
            const mins = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${mins}:${secs < 10 ? '0' : ''}${secs}`;
        }

        // –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è Google Maps
        window.gm_authFailure = function() {
            alert('–ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è Google Maps. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ API –∫–ª—é—á.');
        };
    </script>
</body>
</html>